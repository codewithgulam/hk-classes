{% extends 'base.html' %}

{% block content %}

<div class="row">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-body">
                <form action="{% url 'update_student' %}" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="col-12">
                        <h5 class="form-title"><span>Edit Student</span></h5>
                    </div>

                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>Profile Pic</label>
                            <input type="file" class="form-control" name="profile_pic">
                            <input type="text" class="form-control" name="student_id" value="{{ student.admin.id }}" hidden>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" class="form-control" value="{{ student.admin.first_name }}" name="first_name">
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" class="form-control" value="{{ student.admin.last_name }}" name="last_name">
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>User Id</label>
                            <input type="text" class="form-control" value="{{ student.admin.username }}" name="username">
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>Email Id</label>
                            <input type="email" class="form-control" value="{{ student.admin.email }}" name="email">
                        </div>
                    </div>
                    
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>Address</label>
                            <textarea class="form-control" name="address">{{ student.address }}</textarea>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>Gender</label>
                            <select class="form-control" name="gender">
                                <option value="">Select Gender</option>
                                <option value="Female" {% if student.gender == "Female" %} selected {% endif %}>Female</option>
                                <option value="Male" {% if student.gender == "Male" %} selected {% endif %}>Male</option>
                                <option value="Others" {% if student.gender == "Others" %} selected {% endif %}>Others</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>School</label>
                            <select class="form-control" name="school_id">
                                <option value="">Select School</option>
                                {% for school in schools %}
                                    <option value="{{ school.id }}" {% if student.school.id == school.id %} selected {% endif %}>{{ school.name }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>Session Year</label>
                            <select class="form-control" name="session_year_id">
                                <option value="">Select Session Year</option>
                                {% for session_year in session_years %}
                                    <option value="{{ session_year.id }}" {% if student.session_year_id.id == session_year.id %} selected {% endif %}>{{ session_year.session_start }} To {{ session_year.session_end }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>Joining Date</label>
                            <div>
                                <input type="date" class="form-control" value="{{ student.join_data }}" name="join_date">
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>Mobile Number</label>
                            <input type="text" class="form-control" value="{{ student.mobile_number }}" name="mobile_number">
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>Fee</label>
                            <input type="number" step="0.01" class="form-control" value="{{ student.fee }}" name="fee">
                        </div>
                    </div>
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary">Update Student</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %}
